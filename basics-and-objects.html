<!DOCTYPE html>
<!--
Page for Aaron Pulley's CIT 261-02 demo of 
JavaScript - Loops, Conditional Statements, Functions, Variables, Parameters, Arrays, Associative Arrays
and
JavaScript Objects - Object Creation Functions, Inheritance, Properties, Methods, Instantiation.
-->
<html lang="en-us">
	<head>
		<meta charset="UTF-8">
		<meta name="author" content="Aaron Pulley">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
		<link rel="shortcut icon" href="http://www.aaronpulley.net/favicon.ico">
		<meta name="description" content="Aaron Pulley's CIT 261-02 demo of demo of JavaScript - Loops, Conditional Statements, Functions, Variables, Parameters, Arrays, Associative Arrays and JavaScript Objects - Object Creation Functions, Inheritance, Properties, Methods, Instantiation">
		<title>Basics and Objects | Aaron Pulley</title>
	</head>
		<body>
			<h2 id="version">Droid Lister</h2>
			<p id="output">Nothing is here yet.</p>
		</body>
	<script>
		// Create classes
		class Droid {
			constructor(name) {
				this.name = name;
				this.serial = Math.ceil(Math.random()*999) + "-" + Math.ceil(Math.random()*999);
			}
		};
		
		class Protocol extends Droid {
			constructor(name) {
				super(name);
				this.type = "Protocol";
			}
			
			greet() {
				return "Hello, I'm " + this.name + ", " + this.type + " droid " + this.serial + ".";
			}
		};
		
		class Astromech extends Droid {
			constructor(name) {
				super(name);
				this.type = "Astromech";
			}
			
			greet() {
				return "Beep bwerp " + this.name + ", " + this.type + " buzz " + this.serial + ".";
			}
		};
		
		// Instantiate droids
		const droidNames = ["C-3PO", "R2-D2", "RT-80", "LN-80", "Kolorbash the Destroyer"];
		var droids = new Array();
		var makeDroid = name => {
			if (Number.isInteger(parseInt(name.charAt(name.length - 1)))) {
				return new Astromech(name);
			}
			else {
				return new Protocol(name);
			}
		}
		for (var i = 0; i < droidNames.length; i++) {
			droids.push(makeDroid(droidNames[i]));
		}
		
		// Print to page
		var droidList = "";
		for (var i = 0; i < droids.length; i++) {
			droidList += droids[i].greet() + "<br>";
		}
		document.getElementById("output").innerHTML = droidList;
		
		// Associative array
		var app = {
			software: "Droid Lister",
			version: Math.random()*10
		}
		document.getElementById("version").innerHTML += " v" + app.version.toFixed(2);
	</script>
</html>
